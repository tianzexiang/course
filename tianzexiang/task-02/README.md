# 任务笔记

1. 完成sort的封装 & 完成大部分printTable的封装 & 完成部分格式化时间以及文件操作的封装 & 基本完成ls命令

2. 封装过程中遇到解构赋初值失败的问题，查看MDN文档和TypeScript文档发现是自己搞混了`params?:xxx`和`params: xxx = {}`的用法，解构赋初值采用后者，否则undefined无法解构出属性，同时记住只有严格等于undefined才能成功赋初值

3. 当前仍存在的问题是如何将颜色选项封装进printTable中。之后已经解决，关键是设计传递的数据格式。

4. 关于正则匹配遇到一个非常奇怪的问题，有三个正则`(.|\s) [^] [\w\W]`，三个正则都利用`String.prototype.match`匹配压缩过后的单行极长文件，第一个正则会卡死，而第二第三个正则则表现正常，因为`()`该正则会记住字符串，所以当结果过多时会导致卡死
  
5. 注释在一些极端刁钻的情况有可能会重复匹配，还有例如html文件中包含html、style、script等情况，后者目前有解决思路——利用正则限制在不同标签内去匹配——前者暂时还没想到

6. 已解决html中注释的问题，解决办法是之前一些想法的结合和改进。主要是将处理comment的接口改了，然后导出处理comment的fileString以及一些共同的处理方法，关键在于判断是否是函数。
  
7. 任务已基本全部完成，途中思考了错误的集中管理，关于命令行参数检测没必要每个文件单独重复去写，直接在入口去检测就好，包括help函数的触发，这些直接把逻辑集中丢给入口处处理，其余每个指令特别的一些类似路径检查的代码再每个文件单独写。但目前感觉错误处理的函数写的还不够好，可能是我的错误数据结构设计的有些小问题。
